<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ModaNow</title>
    <link rel="stylesheet" href="css/index.css">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <script src="js/header.js" defer></script>

</head>
<body>

    <header class="header"> 
        <div class="contenedor">
            <div><h1 class="title">MODANOW</h1></div> 
            <nav class="nav">
                <a href="index.html" class="nav_link"> <img src="img/casa.png"> </a> 
                <a href="Ropa.html" class="nav_link"> <img src="img/moda.png"> </a> 
                <a href="Contacto.html" class="nav_link"> <img src="img/atencion-al-cliente.png"> </a>
                <a href="IniciarSesion.html" class="nav_link"> <img src="img/avatar.png" >  </a>
            </nav>
        </div>
    </header>

    <section >
        <a href="https://wa.me/573124327208?text=Buenas%20tardes,%20 deseo%20comunicarme%20con%20un%20Asesor,%20por%20favor" class="btn-wsp"
        target="_blank">
        <img src="img/whatsapp (1).png" alt="">
        <a href="https://www.flaticon.es/iconos-gratis/whatsapp" title="whatsapp iconos"></a>
        </a>
    </section>
    <br>
    <br>
<center>
    <section class="inicio">
        <article class="text">

            <h2>Carrito de Compras</h2>
            <div id="carrito">
                <button onclick="mostrarCarrito()">Mostrar Carrito</button>
            </div>

            <div class="carrito">
                <h2>Carrito de Compras</h2>
                <div id="lista-carrito"></div>
                <p>Total: <span id="total">$0.00</span></p>
                <button id="vaciar-carrito">Vaciar Carrito</button>
            </div>

        </article>
    </section>
</center>
    
    <section class="galeria">

        <article class="light-box">
            <div class="imagenP">
                <img id="imagen-producto" src="img/camisa1.jpg" alt="">
            </div>
            
            <article class="text">
                Camiseta corta 
            </article>
            <br> 
            <article class="text">
                $ 7.000 
            </article> 
            <br> 
            <div class="boton">
                <button class="agregarcarrito" type="button" data-id="1" 
                data-name="Camisa Corta" data-precio="7.000">
                    <img src="img/carro-de-la-compra.png"> 
            </button> 
            </div>

            <div class="seleccion">
                <select class="color-select">
                    <option value="img/camisa1.jpg">Rojo</option>
                    <option value="img/camisa2.jpg">Negro</option> 
                </select>
            </div>

        </article>

        <article class="light-box">
            <div class="imagenP">
                <img id="imagen-producto" src="img/camisa2.jpg" alt="">
            </div>
            
            <article class="text">
                Camiseta corta
            </article>
            <br> 
            <article class="text">
                $ 5.000 
            </article> 
            <br>   
            <div class="boton">
                <button class="agregarcarrito" type="submit" data-id="Añadir" 
                data-name="Añadir" data-precio="5.000">
                    <img src="img/carro-de-la-compra.png"> 
            </button> 
            </div>

            <div class="seleccion">
                <select class="color-select">
                    <option value="img/camisa2.jpg">Negro</option>
                    <option value="img/camisa3.jpg">Blanco</option>
                </select>
            </div>

        </article>

        <article class="light-box">
            <div class="imagenP">
                <img id="imagen-producto" src="img/saco1.jpg" alt="">
            </div>
            
            <article class="text">
                Saco largo 
                <br>
                con capucha
            </article>
            <br>
            <article class="text">
                $ 2.000 
            </article> 
            <br>    
            <div class="boton">
                <button class="agregarcarrito" type="submit" data-id="Añadir" 
                data-name="Añadir" data-precio="2.000">
                    <img src="img/carro-de-la-compra.png"> 
            </button> 
            </div>

            <div class="seleccion">
                <select class="color-select">
                    <option value="img/saco1.jpg">Blanco</option>
                    <option value="img/saco2.jpg">Verde</option>
                </select>
            </div>

        </article>

        <article class="light-box">
            <div class="imagenP">
                <img id="imagen-producto" src="img/saco2.jpg" alt="">
            </div>
            <br>
            <article class="text">
                Saco largo  
                <br>
                con Capucha
            </article>
            <br>  
            <article class="text">
                $ 4.000 
            </article> 
            <br>  
            <div class="boton">
                <button class="agregarcarrito" type="submit" data-id="Añadir" 
                data-name="Añadir" data-precio="4.000">
                    <img src="img/carro-de-la-compra.png"> 
                </button> 
            </div>

            <div class="seleccion">
                <select class="color-select">
                    <option value="img/saco2.jpg">Rosado</option>
                    <option value="img/saco3.jpg">Azul</option>
                </select>
            </div>
        </article>

        <article class="light-box">
            <div class="imagenP">
                <img id="imagen-producto"  src="img/saco3.jpg" alt="">
            </div>
            
            <article class="text">
                Saco Normal
            </article>
            <br>   
            <article class="text">
                $ 8.000 
            </article> 
            <br> 
            <div class="boton">
                <button class="agregarcarrito" type="submit" data-id="Añadir" 
                data-name="Añadir" data-precio="8.000">
                    <img src="img/carro-de-la-compra.png"> 
            </button> 
            </div>

            <div class="seleccion">
                <select class="color-select">
                    <option value="img/saco3.jpg">Blanco</option>
                    <option value="img/saco4.jpg">Negro</option>
                </select>
            </div>
        </article>
        
        <article class="light-box">
            <div class="imagenP">
                <img id="imagen-producto" src="img/camisa4.jpg" alt="Camisa Larga">
            </div>
            
            <article class="text">
                Camiseta Larga
            </article>
            <br>
            <article class="text">
                $ 3.000 
            </article> 
            <br>    
            <div class="boton">
                <button class="agregarcarrito" type="submit" data-id="Añadir" 
                data-name="Camiseta Larga" data-precio="3.000">
                    <img src="img/carro-de-la-compra.png"> 
            </button> 
            </div>

            <div class="seleccion">
                <select class="color-select">
                    <option value="img/camisa4.jpg">Azul</option>
                    <option value="img/camisa1.jpg">Rojo</option>
                </select>
            </div>
        </article>
        <br>
    </section>
        

    <footer class="footer text-center">
        <div class="Contacto">
            <div class="row">

                <div class="col-lg-4 mb-5 mb-lg-0">
                    <h4 class="text-uppercase mb-4">Creador:</h4>
                    <p class="lead mb-0">
                        <a href="mailto: juanpagarsi18Qgmail.com">Juan Pablo Castañeda silva</a>
                    </p>
                </div>

                <div class="col-lg-4 mb-5 mb-lg-0">
                    <h4 class="text-uppercase mb-4">Redes sociales: </h4>
                    <a href="#">
                        <img alt="" src="img/facebook.png" loading="lazy">
                    </a>

                    <a href="#">
                        <img alt="" src="img/instagram.png" loading="lazy">
                    </a>

                    <a href="#">
                        <img alt="" src="img/whatsapp.png" loading="lazy">
                    </a>

                </div>

                <div class="col-lg-4">
                    <h4 class="text-uppercase mb-4">Imagenes de:</h4>
                    <a href="https://www.flaticon.es/iconos-gratis/esquema-de-persona" title="esquema de persona iconos">Iconos de Flaticon</a><br>
                    <a href="https://www.freepik.es/foto-gratis/retrato-hermosa-modelo-gafas-sol-mujer-vestida-jeans-camiseta-blanca-verano-hipster-chica-moda-posando-junto-pared-calle_16506626.htm#query=modelos%20de%20ropa&position=11&from_view=keyword&track=ais_hybrid&uuid=baba0d4d-01b8-4666-ab6e-923222606982"> Imagenes de Freepik</a>
                </div>

            </div>
        </div>
    </footer>
    <div class="copyright">
        <div class="Contacto"><small>Copyright &copy; 2024 </small></div>
    </div>

    <script src="js/script.js"></script>
</body>

<script>

let carrito = [];

// Seleccionar los elementos necesarios
const listaCarrito = document.getElementById('lista-carrito');
const totalCarrito = document.getElementById('total');

// Función para agregar productos al carrito
function agregarAlCarrito(event) {
    const boton = event.target.closest('button');
    const productoEnCarrito = carrito.find(item => item.id === boton.dataset.id);

    if (productoEnCarrito) {
        productoEnCarrito.cantidad++;
    } else {
        carrito.push({
            id: boton.dataset.id,
            nombre: boton.dataset.name,
            precio: parseFloat(boton.dataset.precio),
            cantidad: 1
        });
    }
    actualizarCarrito();
}

function actualizarCarrito() {
    listaCarrito.innerHTML = '';
    let total = 0;

    carrito.forEach(producto => {
        const item = document.createElement('div');
        item.classList.add('carrito-item');
        item.innerHTML = `
            <p>${producto.nombre} x ${producto.cantidad} - $${(producto.precio * producto.cantidad).toFixed(2)}</p>
            <button class="eliminar-item" data-id="${producto.id}">Eliminar</button>`;
        listaCarrito.appendChild(item);
        total += producto.precio * producto.cantidad;
    });
    totalCarrito.innerText = `$${total.toFixed(2)}`;
}

// Función para eliminar productos del carrito
function eliminarDelCarrito(event) {
    const id = event.target.dataset.id;
    carrito = carrito.filter(producto => producto.id !== id);
    actualizarCarrito();
}

// Función para vaciar el carrito
function vaciarCarrito() {
    carrito = [];
    actualizarCarrito();        
}

// Event Listeners
document.querySelectorAll('.agregarcarrito').forEach(boton => {
    boton.addEventListener('click', agregarAlCarrito);
});

listaCarrito.addEventListener('click', function(event) {
    if (event.target.classList.contains('eliminar-item')) {
        eliminarDelCarrito(event);
    }
});

document.getElementById('vaciar-carrito').addEventListener('click', vaciarCarrito);

function mostrarCarrito() {
    let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
    let carritoHTML = '';

    if (carrito.length === 0) {
        carritoHTML = '<p>El carrito está vacío.</p>';
    } else {
        carrito.forEach(producto => {
            carritoHTML += `<p>${producto.nombre} - $${producto.precio}</p>`;
        });
    }
    document.getElementById('carrito').innerHTML = carritoHTML;
}


//Cambio de imagnes con el select
const galeria = document.querySelector('.galeria');

const selectsColor = galeria.querySelectorAll('.color-select');

function cambiarImagen(event) {

    const select = event.target;
    const producto = select.closest('.light-box');
    
    if (producto) {
        const imagenProducto = producto.querySelector('.imagen-producto');
        
        if (imagenProducto) {
            imagenProducto.src = select.value;
        } else {
            console.error('No se encontró la imagen en este producto.');
        }
    } else {
        console.error('No se encontró el contenedor del producto.');
    }
}

selectsColor.forEach(select => {
    select.addEventListener('change', cambiarImagen);
});

</script>
</html>


